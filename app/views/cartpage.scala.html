@(email: String, cart:Cart, faqs: List[FAQ])
@import helper._ 
@main("Cart") {
<body>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
   <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header" style="margin: 0px 20px" >
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
         <a href="/homepage" ><img src="@routes.Assets.at("images/Logo.png")" style="height:50 px; width: 130px"/></a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
       
        
               @if(email == null) {
               	  <ul class="nav navbar-nav">
                 <li  style="margin: 0px 155px">
                    <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
                    <div class="form-group">
                  		<input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
                  		</div>
                  		<div class="btn-group">
  							<button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
  							<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
    						<span class="caret"></span>
    						<span class="sr-only">Toggle Dropdown</span>
  							</button>
  								<ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
    							<li>
    								<a href="/advancedsearch">Advanced Search</a>
    							</li>
    							</ul>
						</div>
            </form>
         </li>
            <li>
               <h4>
                  <p style="color: #000">Hello   
                     <a href="/login">
                     <button class="btn btn-success btn-login"> Log in</button> 
                     </a>
                     or 
                     <a href="/toregister">
                     <button class="btn btn-success btn-register" >Register</button>
                     </a>
                  </p>
               </h4>
            </li>
         </ul>
         } else {
          <ul class="nav navbar-nav">
                 <li  style="margin: 0px 180px">
             <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
                    <div class="form-group">
                  		<input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
                  		</div>
                  		<div class="btn-group">
  							<button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
  							<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
    						<span class="caret"></span>
    						<span class="sr-only">Toggle Dropdown</span>
  							</button>
  								<ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
    							<li>
    								<a href="/advancedsearch">Advanced Search</a>
    							</li>
    							</ul>
						</div>
            </form>
         </li>
      
         <ul class='nav navbar-nav pull-right'>

                    <li class='dropdown'>
               <a style="margin: -6.5px -15px" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
               <button class="btn btn-success glyphicon glyphicon-user">  @User.find(email).username <span class="caret"></span> </button></a>
              
               <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDivider">
                 @if(User.find(email).admin == true) {
                  <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  
                  } else {
                    <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1"  href="/addproductcategory"> Add New Product</a></li>      
                  

                   <li role="presentation"><a role="menuitem" tabindex="-4"  href="/cartpage/@User.find(session().get("email")).id"> My Cart</a></li>
                   <li role="presentation"><a role="menuitem" tabindex="-5"  href="/orderpage/@User.find(session().get("email")).id"> My Orders</a></li>
                 

                  }
                  <li class="divider"></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
               </ul>
            </li>
         </ul>
         }
      </div>
      <!-- /.navbar-collapse -->
   </div>
   <!-- /.container -->
</nav>
   <!-- Page Content -->
  <div class="container">
   <div class="row" >
		<div class="col-lg-12">	
   @if(flash.get("error")){
        <div class="alert alert-danger" role="alert">
                     <div class="container">
                        @flash.get("error")
                     </div>
                  </div>
         }
         @if(flash.get("warning")){
       <div class="alert alert-warning" role="alert">
                     <div class="container">
                        @flash.get("warning")
                     </div>
                  </div>
         }
          @if(flash.get("success")) {
         	<div class="alert alert-success" role="alert">
                     <div class="container">
                        @flash.get("success")
                     </div>
                  </div>
         	}
         	  </div>
         	 
        
                  
	<div class="col-md-3" style="margin: 20px 0px ">
    <div class="well box">
    @if(cart.productList.size() == 0) {
    	<h4>Number of items:  @cart.size </h4>
    	<hr>
        <h4>Total price: @cart.checkout $</h4>
        <hr>
         <a class="btn btn-info" href="/" role="button" onclick="" style="width: 160px; height: 40px; margin: 10px 15px">Back to home</a> 
       } else {
       <h4>Number of items:  @cart.size </h4>
    	<hr>
        <h4>Total price: @cart.checkout $</h4>
        <hr>
        
        <form action="/creditpurchase" method="POST">
	<a href="/creditpurchase" data-paypal-button="true">
  <button class="submit" style="margin: 0px 20px "><img src="//www.paypalobjects.com/en_US/i/btn/btn_xpressCheckout.gif" alt="Check out with PayPal" />
  </button>
</a>
</form>
 <hr>
 <a class="btn btn-info" href="/" role="button" onclick="" style="width: 160px; height: 40px; margin: 10px 15px">Back to home</a> 
       
}

  

</div>
    </div>
					
		
     <div class="col-md-9" style="margin: 0px 0px">
      
     @if(cart.productList.size()>0){	
      <legend>Your Cart: </legend>
  
      @for(product <- cart.productList){
      <div class="col-sm-4 col-lg-4 col-md-4">
         <div class="thumbnail">
           <img src="@routes.Assets.at(models.Image.photosByProduct(product).get(0).image)" alt="" style="width:500px;height:228px">
            <div class="caption">
               <h4 class="pull-right"> @product.price $</h4>
               <h4><a href="/itempage/@product.id">@product.name </a>
               </h4>
                
               <p> @product.description </p>
               
            </div>
            <div>
                <h5 class="pull-down" style="margin: 10px 20px ">Quantity: @product.orderedQuantity</h5>
            </div>
             <div style="margin: 10px 80px">
              
               <a class="btn btn-danger" href="/deleteproductcart/@product.id" role="button" onclick="return confirm('Are you sure you want to delete this product?');" style="margin: 0px -30px ">Remove from Cart</a> 
          </div>

         </div>
      </div>

      }
   </div>
       </div><form method="POST" action="/changeshipping/@cart.id"">
          	<div class="form-group">
          <label>Shipping address: </label>
          <input name ="shippingAddress" id="shippingAddress" value='@cart.shippingAddress' placeholder="Type the shipping address" class="form-control"/>
          <input type="submit" value="Change" class="btn btn-success btn-login-submit" />
          </div>
          </form>
        </div>
        }
          
        <hr>

          <div class="row">
          
    	<h3>Number of items:  @cart.size </h3>
        <h3>Total price: @cart.checkout $</h3>
        <div class=container>
        <form action="/creditpurchase" method="POST">
	<a href="/creditpurchase" data-paypal-button="true">
  <button class="submit" ><img src="//www.paypalobjects.com/en_US/i/btn/btn_xpressCheckout.gif" alt="Check out with PayPal" />
  </button>
</a>
</form>
</div>
}else{
<p> <h4>Your cart is empty</h4></p>

}
</div>
  </div>
 </div>
            
      <div class="container" style="margin: 200px 200px">
      <hr>
      <a href="/contactpage">
         <h3>Contact Us</h3>
      </a>
      <a href="/faq">
         <h3> FAQs</h3>
      </a>
   </div>
</body>
}