@(email: String, orders: List[Orders], faqs: List[FAQ])
@main("Orders") {
<body>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
   <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header" style="margin: 0px 20px" >
         <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
         <span class="sr-only">Toggle navigation</span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         <span class="icon-bar"></span>
         </button>
         <a href="/homepage" ><img src="@routes.Assets.at("images/Logo.png")" style="height:50 px; width: 130px"/></a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
         @if(email == null) {
         <ul class="nav navbar-nav">
            <li  style="margin: 0px 155px">
               <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
                  <div class="form-group">
                     <input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
                  </div>
                  <div class="btn-group">
                     <button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
                     <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                     <span class="caret"></span>
                     <span class="sr-only">Toggle Dropdown</span>
                     </button>
                     <ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
                        <li>
                           <a href="/advancedsearch">Advanced Search</a>
                        </li>
                     </ul>
                  </div>
               </form>
            </li>
            <li>
               <h4>
                  <p style="color: #000">Hello   
                     <a href="/login">
                     <button class="btn btn-success btn-login"> Log in</button> 
                     </a>
                     or 
                     <a href="/toregister">
                     <button class="btn btn-success btn-register" >Register</button>
                     </a>
                  </p>
               </h4>
            </li>
         </ul>
         } else {
         <ul class="nav navbar-nav">
         <li  style="margin: 0px 180px">
            <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
               <div class="form-group">
                  <input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
               </div>
               <div class="btn-group">
                  <button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
                  <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                  <span class="caret"></span>
                  <span class="sr-only">Toggle Dropdown</span>
                  </button>
                  <ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
                     <li>
                        <a href="/advancedsearch">Advanced Search</a>
                     </li>
                  </ul>
               </div>
            </form>
         </li>
         <ul class='nav navbar-nav pull-right'>
            <li>
               }
            </li>
            @if(email != null) {
            <li class='dropdown'>
               <a style="margin: -6.5px -15px" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
               @if( Orders.notificationCounter(User.find(email).soldOrders)>0){
               <button class="btn btn-success "><i class="glyphicon glyphicon-info-sign" style="color: #BD851E;">  </i>  @User.find(email).username   <span class="caret"></span> </button></a>
               }else{<button class="btn btn-success glyphicon glyphicon-user"> @User.find(email).username <span class="caret"></span> </button></a>
               }
               <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDivider">
                  @if(User.find(email).admin == true) {
                  <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  <li class="divider"></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
                  } else {
                  <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1"  href="/addproductcategory"> Add New Product</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-4"  href="/cartpage/@User.find(session().get("email")).id"> My Cart</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-5"  href="/orderpage/@User.find(session().get("email")).id"> My Orders</a></li>
                  @if(email != null && Orders.notificationCounter(User.find(email).soldOrders)>0){
                  <li role="presentation"><a role="menuitem" tabindex="-5"  href="/soldorder/@User.find(session().get("email")).id"><i class="glyphicon glyphicon-info-sign" style="color: #BD851E;"> </i> Notifications </a>
                  </li>
                  }
                  <li class="divider"></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
               </ul>
            </li>
         </ul>
         }
         }
      </div>
      <!-- /.navbar-collapse -->
   </div>
   <!-- /.container -->
</nav>
@if(flash.get("orderSuccess")) {
         	<div class="alert alert-danger" role="alert">
                     <div class="container">
                        @flash.get("orderSuccess")
                     </div>
                  </div>
         	}
   <!-- Page Content -->
   <div class="container">
    @if(flash.get("refund")){
         <div class="alert alert-success" role="alert">
         <div class="container">
                        @flash.get("refund")
                        </div>
                  </div>
                  }
                   @if(flash.get("error")){
        <div class="alert alert-danger" role="alert">
                     <div class="container">
                        @flash.get("error")
                     </div>
                  </div>
         }
         @if(flash.get("warning")){
       <div class="alert alert-warning" role="alert">
                     <div class="container">
                        @flash.get("warning")
                     </div>
                  </div>
         }
          @if(flash.get("success")) {
         	<div class="alert alert-success" role="alert">
                     <div class="container">
                        @flash.get("success")
                     </div>
                  </div>
         	}
         
   @if(orders.isEmpty){
							<h3 style="margin: 180px -15px"><center><strong>You have no orders!</strong></center></h3>
							}else{
      <legend style="margin:10px 0px">Your Orders: </legend>
      <div class="row" style="margin:30px 0px">
        
         <table class="table table-bordered" >	
      <thead style="background-color: #4AB55A; color: #fff;">
        <tr>
          		<th>Order number</th>
                <th>Products</th>
                <th>Order date</th>
                <th>Shipping address</th>
                <th><span class="nobr">Total</span></th>
                <th>Refund</th>
        </tr>
      </thead>
      <tbody >
       @for(order <- orders){
        <tr>
         <td>@order.id</td>
          <td>
                    @for(product <- order.productList){
                    	<p>@product.name ($ @product.price) x @ProductQuantity.getProductQuantity(product.id,order.id) <a class='pull-right' href="/rating/@product.owner.id"
						<button type="button" class="btn btn-warning">Rate seller</button></a></p>
                    }
                    </td>
                    <td>@order.orderDate</td>
                    <td>@order.shippingAddress</td>
                    <td><span class="price">$ @order.price,-</span>
                   
                    <td>  <a href ="/refundorder/@order.id">
                    	<button type="button" class="btn btn-warning" style="margin:0px 15px">Refund</button></td>
                   </a>
						</td>
                   
                  
        </tr>
        </div>
        </tbody>
         }
      </table>
}
      

   </div>
      <div class="container"  >
      <hr>
      <a href="/contactpage">
         <h3>Contact Us</h3>
      </a>
      <a href="/faq">
         <h3> FAQs</h3>
      </a>
   </div>
</body>
}