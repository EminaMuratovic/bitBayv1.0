@(email: String, users: List[User], categoryList: List[Category], products: List[Product], myproducts:List[Product] ,  faqs: List[FAQ], mails: List[Message])

@main("Profile") {
<body>
 <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
   <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header" style="margin: 0px 20px" >
       <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
         <a href="/homepage" ><img src="@routes.Assets.at("images/Logo.png")" style="height:50 px; width: 130px"/></a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        
               @if(email == null) {
               	  <ul class="nav navbar-nav">
                 <li  style="margin: 0px 155px">
                    <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
                    <div class="form-group">
                  		<input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
                  		</div>
                  		<div class="btn-group">
  							<button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
  							<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
    						<span class="caret"></span>
    						<span class="sr-only">Toggle Dropdown</span>
  							</button>
  								<ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
    							<li>
    								<a href="/advancedsearch">Advanced Search</a>
    							</li>
    							</ul>
						</div>
            </form>
         </li>
            <li>
               <h4>
                  <p style="color: #000">Hello   
                     <a href="/login">
                     <button class="btn btn-success btn-login"> Log in</button> 
                     </a>
                     or 
                     <a href="/toregister">
                     <button class="btn btn-success btn-register" >Register</button>
                     </a>
                  </p>
               </h4>
            </li>
         </ul>
         } else {
          <ul class="nav navbar-nav">
                 <li  style="margin: 0px 180px">
             <form class="navbar-form navbar-left"  method="GET" action="/search" role="search">
                    <div class="form-group">
                  		<input type="text" class="form-control" name="q" id="q" size="40" placeholder="Search..." required>
                  		</div>
                  		<div class="btn-group">
  							<button type="submit" class="btn btn-success glyphicon glyphicon-search" style="margin: -1px 2px"></button>
  							<button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
    						<span class="caret"></span>
    						<span class="sr-only">Toggle Dropdown</span>
  							</button>
  								<ul class="dropdown-menu" role="menu" style="margin: 1px -90px">
    							<li>
    								<a href="/advancedsearch">Advanced Search</a>
    							</li>
    							</ul>
						</div>
            </form>
         </li>
      
         <ul class='nav navbar-nav pull-right'>

                    <li class='dropdown'>
               <a style="margin: -6.5px -15px" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
               <button class="btn btn-success glyphicon glyphicon-user">  @User.find(email).username <span class="caret"></span> </button></a>
              
               <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenuDivider">
                 @if(User.find(email).admin == true) {
                  <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  
                  } else {
                    <li role="presentation"><a role="menuitem" tabindex="-1" href='/profile' >Profile</a></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1"  href="/addproductcategory"> Add New Product</a></li>      
                   <li role="presentation"><a role="menuitem" tabindex="-4"  href="/cartpage/@User.find(session().get("email")).id"> My Cart</a></li>
                   <li role="presentation"><a role="menuitem" tabindex="-5"  href="/orderpage/@User.find(session().get("email")).id"> My Orders</a></li>
                 

                  }
                  <li class="divider"></li>
                  <li role="presentation"><a role="menuitem" tabindex="-1" href="/logout">Logout</a></li>
               </ul>
            </li>
         </ul>
         }
      </div>
      <!-- /.navbar-collapse -->
   </div>
   <!-- /.container -->
</nav>
	<div class="container">
	<div style="margin: 80px -15px" class="row">
	@if(flash.get("error")){
        <div class="alert alert-danger" role="alert">
                     <div class="container">
                        @flash.get("error")
                     </div>
                  </div>
         }
         @if(flash.get("warning")){
       <div class="alert alert-warning" role="alert">
                     <div class="container">
                        @flash.get("warning")
                     </div>
                  </div>
         }
          @if(flash.get("success")) {
         	<div class="alert alert-success" role="alert">
                     <div class="container">
                        @flash.get("success")
                     </div>
                  </div>
         	}
		<div class="col-md-3">
      <img src="@routes.Assets.at("images/250x250.png")" class="profile" />
      
      <h5>Username: @User.find(session().get("email")).username</h5> 
      <h5>Email:  @User.find(session().get("email")).email</h5> 
      <h5>Address:  @User.find(session().get("email")).user_address</h5> 
      <h3><strong>Rate:</strong> @User.find(session().get("email")).rating</h3> 
      <div class="col-md-5">
      <a href="/editinfo"><button class="btn btn-md btn-info " style="width: 280px; height: 40px; margin: 1px -20px" >Edit additional info</button></a>
       
       </div>
      </div>
      
       
      
    <div class="col-md-9">
        <ul class="nav nav-tabs">
        @if(User.find(session().get("email")).admin) {
        	<!-- Nav tabs -->
        	
          <li><a href="#listofusers"  data-toggle="tab">List Of Users</a></li>
          <li><a href="#categories" data-toggle="tab">Categories</a></li>
          <li><a href="#products" data-toggle="tab">Products</a></li> 
        
          } else {
             <li ><a href="#myproducts" data-toggle="tab">My products</a></li> 
               <li><a href="#messages" data-toggle="tab">Messages</a></li>       
             }
             
        </ul>
        
          <!-- Tab panes -->
          
        <div class="tab-content">
         <div class="tab-pane" class="tab-pane active" id="listofusers" style="margin: 0px 35px">
         			<div class="container">
   <div class="row">
      <form style="margin: 15px 175px" class="navbar-form navbar-left"  method="GET" action="/searchusers" role="search">
               <div class="form-group">
                  <input type="text" class="form-control" name="q" id="q" placeholder="Search users..." required>
               </div>
              
            </form>
      <table class='table' style="margin: 60px 50px">
       
         
         <tbody>
            @for(user <- users){
            <tr>
               <td> @user.email </td>
               <div>
                  <td style="float: left">  
                   
                     <a class="btn  btn-info glyphicon glyphicon-refresh" href="/updateuser/@user.id" role="button">Update</a>
                       @if(!user.email.equals(session().get("email"))) {
                     <a class="btn btn-danger  glyphicon glyphicon-trash " href="/deleteuser/@user.id" role="button" onclick="return confirm('Are you sure you want to delete this user?');">Delete</a>
                     }
                  </td>
               </div>
            </tr>
            }
         </tbody>
      </table>
   </div>
</div>
         </div><!--  end list of users -->
         
         
          <div class="tab-pane" class="tab-pane active" id="categories">
      
   
      <div class="form-group text-center">
       </div>
        <div style="margin:0 auto; width:100px">
     
      
         <a class="btn btn-success " href="/addnewcategory" role="button">Add new category</a>
          
      </div>
     
      
         <table class='table' style="margin: 60px 60px">
         
            <tbody>
               @for(category <- categoryList){
               <tr>
                  <td> <a href="category/@category.name" class="list-group-item glyphicon glyphicon-shopping-cart" reqiered> @category.name </a> </td>
                  <div>
                     <td style="float: left">  
                        <a class="btn  btn-info glyphicon glyphicon-refresh " href="/updatecategory/@category.id" role="button" );">Update</a>
                        <a class="btn btn-danger glyphicon glyphicon-trash" href="/deletecategory/@category.id" role="button" onclick="return confirm('Are you sure you want to delete this Category?');">Delete</a>
                     </td>
                  </div>
               </tr>
               }
            </tbody>
    
      </table>
   
        
         </div><!--  end of categories -->
         
         <div class="tab-pane" class="tab-pane active" id="products"> 
          <form action="/">
    
     	 <div style="margin:0 auto;width:100px">
   
         <a style="margin: 16.5px -2px" class="btn btn-success" href="/addproductcategory" role="button">Add new product</a>
        
         
     
      </div>

        <div class="row" >
      @for(product <- products){
      <div class="col-sm-4 col-lg-4 col-md-4">
         <div class="thumbnail">
            <img src="@routes.Assets.at(models.Image.photosByProduct(product).get(0).image)" alt="" style="width:500px;height:228px">
            <div class="caption">
               <h4 class="pull-right"> @product.price $</h4>
               <h4> <a href="itempage/@product.id">@product.name</a>
               </h4>
               <p> @product.description @if(product.sold==true){<strong> SOLD!!! </strong>} </p>
            </div>
             <div style="margin: 10px 70px">
              
               <a class="btn btn-danger glyphicon glyphicon-trash" href="/deleteproduct/@product.id" role="button" onclick="return confirm('Are you sure you want to delete this product?');">Delete</a> 
            </div>
         </div>
         

      </div>
      }
   </div>
      
   </div>  
 
    <div class="tab-pane"  id="myproducts"> 
   <div class="container">
      <form action="/">
      <div class="form-group text-center" style="margin: 50px 20px">
         <a style="margin: 16.5px -5px" class="btn btn-success" href="/addproductcategory" role="button">Add new product</a>
      </div>
     

      <div class="row">
        <div class="col-md-9">
      @for(product <- myproducts){
      <div class="col-sm-4 col-lg-4 col-md-4">
         <div class="thumbnail">
             <img src="@routes.Assets.at(models.Image.photosByProduct(product).get(0).image)" alt="" style="width:500px;height:228px">
            <div class="caption">
               <h4 class="pull-right"> @product.price $</h4>
               <h4> <a href="itempage/@product.id">@product.name</a>
               </h4>
               <p> @product.description @if(product.sold==true){<strong> SOLD!!! </strong>} </p>
            </div>
             <div style="margin: 10px 70px">
               <a class="btn btn-success glyphicon glyphicon-refresh" href="/updateproduct/@product.id" role="button" style="width: 220px; height: 40px; margin: 10px -50px">Update</a>
               <a class="btn btn-danger glyphicon glyphicon-trash" href="/deleteproduct/@product.id" role="button" onclick="return confirm('Are you sure you want to delete this product?')" style="width: 220px; height: 40px; margin: 10px -50px">Delete</a> 
            </div>
         </div>
         
      </div>
      }
   </div>
   </div>
      
       </div>
      </div> <!-- end of my products -->
      
     <div class="tab-pane" class="tab-pane active" id="messages" style="margin: 0px 35px">
         			<div class="container">
   <div class="row">
  
      <table class='table' style="margin: 80px -40px">
       
         
         <tbody>
            @for(mail <- mails){
            <tr>
               <td>
              
               <h4>@mail.sender.email</h4>
               <h5>	@mail.content.substring(0, 10) ...</h5>
               <!--   <a href="reply/@mail.id" class="list-group-item glyphicon glyphicon-mail"> @mail.sender.email:		@mail.content.substring(0, 10) ... </a>-->
                
                </td>
               <div>
                  <td style="float: left">  
                              <a href="open/@mail.id" class="btn btn-success glyphicon glyphicon-envelope"> View</a>      
                     <a class="btn btn-danger  glyphicon glyphicon-trash " href="/deletemessage/@mail.id" role="button" onclick="return confirm('Are you sure you want to delete this message?');"> Delete</a>
                  
                  </td>
               </div>
            </tr>
            }
         </tbody>
      </table>
   </div>
</div>
         </div>
      
      </div>
      
       
     
  
     
  
    <div class="container" style="margin: 400px -255px">
   <hr >
     <a href="/contactpage">
                                  <h3>Contact Us</h3>
                                </a>
       <a href="faq">
                        <h3> FAQs</h3>
                        </a>
</div>
   	
</body>
}